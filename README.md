logagent默认最大使用2个os线程来同时执行。每个logagent可以配置多个日志收集任务（task）。每个task需要配置一个collector（收集对象），一个parser，一组rewrite对象（parser和rewrite用于生成日志解析转换方法），一组handler（handler配置转发或存储，可以配置多个handler处理后的日志可以同时转发和存储）。

可以配置日志归并功能，同一个设备一段时间内产生的日志标注数量只存储或转发一次。

当日志收集的速率大于处理的数率时，可以配置多个协程同时处理日志。

#### 日志收集

提供丰富的日志采集方法：

1. 从文本日志文件中收集。
2. 支持RFC3614、RFC5424协议，可以自由配置protocol,ip,port提供syslog服务。
3. api直接调用输入日志。
4. 支持从kafka中收集消息。
5. 支持msgpack-rpc协议，可以使用支持msgpack-rpc协议的rpc客户端调用输入日志（解决防护层二进制流日志解析问题）。

#### 日志解析

提供丰富的日志解析方法：

1. 分隔符解析，使用自定义分隔符的方法将文本日志消息解析成键值对。
2. 正则表达式，使用包含分组命名的正则表达式将日志消息解析成键值对。

#### 过滤与转换

可以对解析后的日志键值对进行丰富的过滤转换操作

1. set，通过set操作可以往日志消息中添加键值对，可以将已有日志字段set为固定值。
2. subst, subst操作可以将日志键值对中值的部分替换。
3. mapping，mapping操作可以将日志键值对的值映射成其他值。
4. format，format用于格式化时间字符串。

#### 存储、传输

提供多种存储、转发方法：

1. 通过模板替换的方式将日志键值对组合成日志文本外发到syslog服务。
2. 通过模板替换的方式将日志键值对组合成日志文本转发到kafka。
3. 组合后的日志文本存储到本地文件中。
4. 日志键值对持久化到数据库中（支持pg, mysql, sqlite, mongo）。
5. 组合后的日志文本输出到控制台（用于调试）。
